"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[6476],{3905:(e,t,r)=>{r.d(t,{Zo:()=>c,kt:()=>h});var n=r(7294);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var l=n.createContext({}),u=function(e){var t=n.useContext(l),r=t;return e&&(r="function"==typeof e?e(t):o(o({},t),e)),r},c=function(e){var t=u(e.components);return n.createElement(l.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},d=n.forwardRef((function(e,t){var r=e.components,a=e.mdxType,i=e.originalType,l=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),d=u(r),h=a,m=d["".concat(l,".").concat(h)]||d[h]||p[h]||i;return r?n.createElement(m,o(o({ref:t},c),{},{components:r})):n.createElement(m,o({ref:t},c))}));function h(e,t){var r=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=r.length,o=new Array(i);o[0]=d;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:a,o[1]=s;for(var u=2;u<i;u++)o[u]=r[u];return n.createElement.apply(null,o)}return n.createElement.apply(null,r)}d.displayName="MDXCreateElement"},4259:(e,t,r)=>{r.r(t),r.d(t,{frontMatter:()=>i,contentTitle:()=>o,metadata:()=>s,toc:()=>l,default:()=>c});var n=r(7462),a=(r(7294),r(3905));const i={id:"xest-106",title:"XEST-106 First Test",sidebar_label:"XEST-106 First Test"},o=void 0,s={unversionedId:"training/xest-106",id:"training/xest-106",isDocsHomePage:!1,title:"XEST-106 First Test",description:"Since we have finished writing our data now we should test them. Before starting writing the tests, think about what you will need as a before or after hook so that our original database will not change?",source:"@site/docs/training/xest-106.md",sourceDirName:"training",slug:"/training/xest-106",permalink:"/docs/training/xest-106",editUrl:"https://github.com/CyprusCodes/xest/tree/main/documentation/docs/docs/training/xest-106.md",tags:[],version:"current",frontMatter:{id:"xest-106",title:"XEST-106 First Test",sidebar_label:"XEST-106 First Test"},sidebar:"training",previous:{title:"XEST-105 Updating Artists",permalink:"/docs/training/xest-105"}},l=[{value:"Useful Links",id:"useful-links",children:[],level:3},{value:"add test",id:"add-test",children:[],level:3}],u={toc:l};function c(e){let{components:t,...r}=e;return(0,a.kt)("wrapper",(0,n.Z)({},u,r,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"Since we have finished writing our data now we should test them. Before starting writing the tests, think about what you will need as a before or after hook so that our original database will not change?"),(0,a.kt)("p",null,"It is time to do an integration test for the written endpoint. First thing to remember, as your app should be running when sending requests on postman, the same should be while integration testing. The meaning of Integration testing is quite straightforward- Integrate/combine the units and test the behaviour as a combined unit. The main function or goal of this testing is to test combinational behaviour, and validate whether the requirements are implemented correctly or not. Previously you have used jest testing framework, this time we are going to use a combination of Mocha, Chai and Supertest testing tools to test REST API. In your root folder, there is a test folder."),(0,a.kt)("p",null,"You will need to create your test folders under as ",(0,a.kt)("inlineCode",{parentName:"p"},"[directory_name] > tests > testingfilename.test.js")),(0,a.kt)("p",null,"testingfilename.test.js could be getAllArtists.test.js for testing the endpoint;"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},'router.get("/artists", getAllArtists);\n')),(0,a.kt)("p",null,"In xest, mocha, chai and supertest are installed as development dependencies, when you created your app in the first place, they were all packed for you. So you do not need to install them. We will ",(0,a.kt)("strong",{parentName:"p"},"require")," pre-written functionality of ",(0,a.kt)("strong",{parentName:"p"},"expect")," from Chai and Supertest which we use because it creates a test server for us so we can properly test our API and replicate what it will do when connected to a real server.Now that we have all necessary fragments, we can write our tests. The testing framework we are using for this project is Mocha which is another JavaScript testing framework."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},'const { expect } = require("chai");\nconst request = require("supertest");\nconst router = require("~root/app");\nconst safeDescribe = require("~test/utils/safeDescribe");\n')),(0,a.kt)("h3",{id:"useful-links"},"Useful Links"),(0,a.kt)("p",null,"Useful Links:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Link: ",(0,a.kt)("a",{parentName:"li",href:"https://dev-tester.com/dead-simple-api-tests-with-supertest-mocha-and-chai/"},"https://dev-tester.com/dead-simple-api-tests-with-supertest-mocha-and-chai/")),(0,a.kt)("li",{parentName:"ul"},"Link: ",(0,a.kt)("a",{parentName:"li",href:"https://medium.com/practical-software-testing/javascript-testing-with-mocha-a-series-f4bfcab26532"},"https://medium.com/practical-software-testing/javascript-testing-with-mocha-a-series-f4bfcab26532"))),(0,a.kt)("hr",null),(0,a.kt)("p",null,"From here on out, the training wheels are off - you will be expected to complete the remainder of the application - that is Albums and Songs - with what you have learnt so far. If you are unsure of anything you have done so far, it would be a good idea at this stage to go back through and re-familiarise yourself."),(0,a.kt)("h3",{id:"add-test"},"add test"),(0,a.kt)("hr",null),(0,a.kt)("p",null,"You can find the example finished API at ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/PemMmM/music-library-api"},"here"),"."))}c.isMDXComponent=!0}}]);